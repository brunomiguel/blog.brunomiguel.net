<!DOCTYPE html>
<html lang="pt" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Smug, a tmux session manager | .blog</title>
<meta name="keywords" content="tmux, smug, session, terminal" />
<meta name="description" content="Smug helps you manage different tmux sessions with different windows and panes">
<meta name="author" content="Bruno Miguel">
<link rel="canonical"
    href="https://blog.brunomiguel.net/post/smug-tmux-session-manager/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.bda02470a17a12b587236d909d03bcfd30ff34ee88f3b654bebff235c856d59d.css" integrity="sha256-vaAkcKF6ErWHI22QnQO8/TD/NO6I87ZUvr/yNchW1Z0="
    rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.b95bacdc39e37a332a9f883b1e78be4abc1fdca2bc1f2641f55e3cd3dabd4d61.js" integrity="sha256-uVus3DnjejMqn4g7Hni&#43;Srwf3KK8HyZB9V4809q9TWE="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://blog.brunomiguel.net/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16"
    href="https://blog.brunomiguel.net/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32"
    href="https://blog.brunomiguel.net/favicon-32x32.png">
<link rel="apple-touch-icon"
    href="https://blog.brunomiguel.net/apple-touch-icon.png">
<link rel="mask-icon" href="https://blog.brunomiguel.net/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }
    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }
    </style>
</noscript><link rel="preload" href="/fonts/rubik-v14-latin-300.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/rubik-v14-latin-300.woff" as="font" type="font/woff" crossorigin>

<link rel="preload" href="/fonts/rubik-v14-latin-regular.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/rubik-v14-latin-regular.woff" as="font" type="font/woff" crossorigin>

<link rel="preload" href="/fonts/rubik-v14-latin-700.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/rubik-v14-latin-700.woff" as="font" type="font/woff" crossorigin>

<link rel="preload" href="/fonts/rubik-v14-latin-300italic.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/rubik-v14-latin-300italic.woff" as="font" type="font/woff" crossorigin>

<link rel="preload" href="/fonts/rubik-v14-latin-italic.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/rubik-v14-latin-italic.woff" as="font" type="font/woff" crossorigin>

<link rel="preload" href="/fonts/rubik-v14-latin-700italic.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/rubik-v14-latin-700italic.woff" as="font" type="font/woff" crossorigin>


<script data-goatcounter="https://blog-brunomiguel.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script><div id="cookie-notice">
    <span>Este site usa cookies do GoatCounter e do Plausible, dois softwares de código aberto, para estatísticas.</span>
    <a id="cookie-notice-close" class="btn btn-primary btn-sm">Fechar</a>
    <a href="/privacidade" class="btn btn-primary btn-sm">Mais info</a></div>
    <script>
        function createCookie(name,value,days) {
            var expires = "";
            if (days) {
                var date = new Date();
                date.setTime(date.getTime() + (days*24*60*60*1000));
                expires = "; expires=" + date.toUTCString();
            }
            document.cookie = name + "=" + value + expires + "; path=/";
        }
        function readCookie(name) {
            var nameEQ = name + "=";
            var ca = document.cookie.split(';');
            for(var i=0;i < ca.length;i++) {
                var c = ca[i];
                while (c.charAt(0)==' ') c = c.substring(1,c.length);
                if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
            }
            return null;
        }
        function eraseCookie(name) {
            createCookie(name,"",-1);
        }
    
        if(readCookie('cookie-notice-option')=='true') {
            
    
            
        } else if (readCookie('cookie-notice-option')!='false'){
            document.getElementById('cookie-notice').style.display = 'block';
        }
    
        document.getElementById('cookie-notice-close').addEventListener("click",function() {
            createCookie('cookie-notice-option','true',31);
            document.getElementById('cookie-notice').style.display = 'none';
            location.reload();
        });
    
    </script><meta property="og:title" content="Smug, a tmux session manager" />
<meta property="og:description" content="Smug helps you manage different tmux sessions with different windows and panes" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.brunomiguel.net/post/smug-tmux-session-manager/" />
<meta property="og:image" content="https://blog.brunomiguel.net/post/smug-tmux-session-manager/images/smug.webp" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2023-04-24T00:00:00+00:00" />
<meta property="article:modified_time" content="2023-04-24T00:00:00+00:00" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://blog.brunomiguel.net/post/smug-tmux-session-manager/images/smug.webp" />
<meta name="twitter:title" content="Smug, a tmux session manager"/>
<meta name="twitter:description" content="Smug helps you manage different tmux sessions with different windows and panes"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Posts",
      "item": "https://blog.brunomiguel.net/post/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "Smug, a tmux session manager",
      "item": "https://blog.brunomiguel.net/post/smug-tmux-session-manager/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Smug, a tmux session manager",
  "name": "Smug, a tmux session manager",
  "description": "Smug helps you manage different tmux sessions with different windows and panes",
  "keywords": [
    "tmux", "smug", "session", "terminal"
  ],
  "articleBody": "Tmux is a terminal multiplexer. If you’ve clicked on this post, you are likely to know this. As powerful and useful as it is, this tool doesn’t include a way to configure how many windows and panes you want to create when you run it and which applications to start on which panes.\nSession managers fill this gap. They allow you to create templates where you specify how many windows and panes you want when you start a Tmux session. If you have to ssh into different machines or want to spin different setups for various purposes, you see the value in this type of tool.\nOne such tool is Smug. The tool describes itself as follows: “Session manager and task runner for Tmux. Start your development environment within one command.”\nThe configuration files for Smug are written in YAML. In them, you can:\ncreate and name as many windows and panes as you want define each window’s layout run commands on some panes but not on others define environmental variables run commands before a session starts and when it ends One particularity about Smug: defining a window in a configuration file automatically creates a pane on that window. Let’s say you want a window with two panes. In this example, you would only need to specify one pane because Smug assumes you’re already starting the first pane when creating a window.\nHere is an example of that behavior below:\nwindows: - name: first-window #this also creates the first pane on this window layout: even-horizontal panes: #now we only need to create the second pane - commands: - clear There’s no need to specify the clear command. I do it because, in my opinion, it provides a visual cue for better content hierarchy.\nI recommend checking the tool git repository and reading the documentation for all the configuration options. But if you want to look at a simple configuration, you can check my main local template below.\nsession: default root: $HOME windows: - name: principal layout: main-vertical panes: - commands: - clear - commands: - watch -n 2 \"sensors | grep -E 'Package|Core|Composite|temp1'\" - name: música commands: - pyradio layout: even-horizontal panes: - commands: - pipe-viewer --best --player=mpv -n There are other Tmux session managers out there, and you should try them out to see which one works better for you. Smug is the one I found to better fit my needs.\n",
  "wordCount" : "402",
  "inLanguage": "pt",
  "image":"https://blog.brunomiguel.net/post/smug-tmux-session-manager/images/smug.webp","datePublished": "2023-04-24T00:00:00Z",
  "dateModified": "2023-04-24T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "Bruno Miguel"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://blog.brunomiguel.net/post/smug-tmux-session-manager/"
  },
  "publisher": {
    "@type": "Organization",
    "name": ".blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://blog.brunomiguel.net/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://blog.brunomiguel.net" accesskey="h" title=".blog (Alt + H)">.blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://blog.brunomiguel.net/search/" title="Pesquisa">
                    <span>Pesquisa</span>
                </a>
            </li>
            <li>
                <a href="https://blog.brunomiguel.net/arquivo" title="Arquivo">
                    <span>Arquivo</span>
                </a>
            </li>
            <li>
                <a href="https://blog.brunomiguel.net/categories/" title="Categorias">
                    <span>Categorias</span>
                </a>
            </li>
            <li>
                <a href="https://blog.brunomiguel.net/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://blog.brunomiguel.net/privacidade/" title="Privacidade">
                    <span>Privacidade</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      Smug, a tmux session manager
    </h1>
    
    <div class="post-meta"><span title='2023-04-24 00:00:00 +0000 UTC'>abril 24, 2023</span>&nbsp;·&nbsp;2 minutos&nbsp;·&nbsp;Bruno Miguel

</div>
  </header> 


<figure class="entry-cover">
            <img src="https://blog.brunomiguel.net/post/smug-tmux-session-manager/images/smug.webp" alt="Screenshot of my main smug config">
        
</figure>

  <div class="post-content"><p>Tmux is a terminal multiplexer. If you&rsquo;ve clicked on this post, you are likely to know this. As powerful and useful as it is, this tool doesn&rsquo;t include a way to configure how many windows and panes you want to create when you run it and which applications to start on which panes.</p>
<p>Session managers fill this gap. They allow you to create templates where you specify how many windows and panes you want when you start a Tmux session. If you have to ssh into different machines or want to spin different setups for various purposes, you see the value in this type of tool.</p>
<p>One such tool is <a href="https://github.com/ivaaaan/smug">Smug</a>. The tool describes itself as follows: <em>&ldquo;Session manager and task runner for Tmux. Start your development environment within one command.&rdquo;</em></p>
<p>The configuration files for Smug are written in YAML. In them, you can:</p>
<ul>
<li>create and name as many windows and panes as you want</li>
<li>define each window&rsquo;s layout</li>
<li>run commands on some panes but not on others</li>
<li>define environmental variables</li>
<li>run commands before a session starts and when it ends</li>
</ul>
<p><strong>One particularity about Smug: defining a window in a configuration file automatically creates a pane on that window.</strong> Let&rsquo;s say you want a window with two panes. In this example, you would only need to specify one pane because Smug assumes you&rsquo;re already starting the first pane when creating a window.</p>
<p>Here is an example of that behavior below:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">windows</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">first-window</span><span class="w"> </span><span class="c">#this also creates the first pane on this window</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">layout</span><span class="p">:</span><span class="w"> </span><span class="l">even-horizontal</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">panes</span><span class="p">:</span><span class="w"> </span><span class="c">#now we only need to create the second pane</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">commands</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span>- <span class="l">clear</span><span class="w">
</span></span></span></code></pre></div><p>There&rsquo;s no need to specify the clear command. I do it because, in my opinion, it provides a visual cue for better content hierarchy.</p>
<p>I recommend checking the tool git repository and reading the documentation for all the configuration options. But if you want to look at a simple configuration, you can check my main local template below.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">session</span><span class="p">:</span><span class="w"> </span><span class="l">default</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">root</span><span class="p">:</span><span class="w"> </span><span class="l">$HOME</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">windows</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">principal</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">layout</span><span class="p">:</span><span class="w"> </span><span class="l">main-vertical</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">panes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">commands</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span>- <span class="l">clear</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">commands</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span>- <span class="l">watch -n 2 &#34;sensors | grep -E &#39;Package|Core|Composite|temp1&#39;&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">música</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">commands</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">pyradio</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">layout</span><span class="p">:</span><span class="w"> </span><span class="l">even-horizontal</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">panes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">commands</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span>- <span class="l">pipe-viewer --best --player=mpv -n</span><span class="w">
</span></span></span></code></pre></div><p>There are other Tmux session managers out there, and you should try them out to see which one works better for you. Smug is the one I found to better fit my needs.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://blog.brunomiguel.net/tags/tmux/">tmux</a></li>
      <li><a href="https://blog.brunomiguel.net/tags/smug/">smug</a></li>
      <li><a href="https://blog.brunomiguel.net/tags/session/">session</a></li>
      <li><a href="https://blog.brunomiguel.net/tags/terminal/">terminal</a></li>
    </ul>
<nav class="paginav">
  <a class="next" href="https://blog.brunomiguel.net/post/trying-to-regain-privacy/">
    <span class="title">Próxima Página »</span>
    <br>
    <span>Trying to regain privacy</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span><a rel="me" href="https://masto.pt/@brunomiguel">I'm on the Fediverse</a></span><br/>
    <span> <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC-BY-SA-4.0</a> - 2023</span><br/>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a>, a customized
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod theme</a>, and an improved
        <a href="https://github.com/catppuccin/catppuccin" rel="noopener" target="_blank">Catppuccin color palette</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = 'copy';

        function copyingDone() {
            copybutton.innerText = 'copied!';
            setTimeout(() => {
                copybutton.innerText = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>

<script src="https://swetrix.org/swetrix.js" defer></script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    swetrix.init('HifnuHWoY3VN')
    swetrix.trackViews()
  })
</script>
<noscript>
  <img
    src="https://api.swetrix.com/log/noscript?pid=HifnuHWoY3VN"
    alt=""
    referrerpolicy="no-referrer-when-downgrade"
  />
</noscript>
</body>

</html>
