<!DOCTYPE html>
<html lang="pt" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Bash: how-to improve history manipulation | .blog</title>
<meta name="keywords" content="bashrc, bash, bash-it, history, tips, tools" />
<meta name="description" content="By default, up and down keys allow you to navigate your bash history. Another option is the history built-in command and bash expansions (ex.: !2 runs the second command, oldest to newest, from your bash history).
There are also tools, like bash-it, that allow for better history manipulation, but this also adds a lot of other stuff, so it might make your .bashrc load slower. It will make your bash look good as hell too.">
<meta name="author" content="Bruno Miguel">
<link rel="canonical"
    href="https://blog.brunomiguel.net/post/bash-better-history-manipulation/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.79d45abdab2ba36cfa0e1b061e5deae232e32e1e20c42bfbdd12238137a7645c.css" integrity="sha256-edRavasro2z6DhsGHl3q4jLjLh4gxCv73RIjgTenZFw="
    rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.4dcb3c4f38462f66c6b6137227726f5543cb934cca9788f041c087e374491df2.js" integrity="sha256-Tcs8TzhGL2bGthNyJ3JvVUPLk0zKl4jwQcCH43RJHfI="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://blog.brunomiguel.net/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16"
    href="https://blog.brunomiguel.net/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32"
    href="https://blog.brunomiguel.net/favicon-32x32.png">
<link rel="apple-touch-icon"
    href="https://blog.brunomiguel.net/apple-touch-icon.png">
<link rel="mask-icon" href="https://blog.brunomiguel.net/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }
    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }
    </style>
</noscript><link rel="preload" href="/fonts/rubik-v14-latin-300.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/rubik-v14-latin-300.woff" as="font" type="font/woff" crossorigin>

<link rel="preload" href="/fonts/rubik-v14-latin-regular.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/rubik-v14-latin-regular.woff" as="font" type="font/woff" crossorigin>

<link rel="preload" href="/fonts/rubik-v14-latin-700.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/rubik-v14-latin-700.woff" as="font" type="font/woff" crossorigin>

<link rel="preload" href="/fonts/rubik-v14-latin-300italic.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/rubik-v14-latin-300italic.woff" as="font" type="font/woff" crossorigin>

<link rel="preload" href="/fonts/rubik-v14-latin-italic.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/rubik-v14-latin-italic.woff" as="font" type="font/woff" crossorigin>

<link rel="preload" href="/fonts/rubik-v14-latin-700italic.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/rubik-v14-latin-700italic.woff" as="font" type="font/woff" crossorigin>


<script data-goatcounter="https://blog-brunomiguel.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>


<script defer data-domain="blog.brunomiguel.net" src="https://plausible.matterho.st/js/plausible.js"></script><div id="cookie-notice">
    <span>Este site usa cookies do GoatCounter e do Plausible, dois softwares de código aberto, para estatísticas.</span>
    <a id="cookie-notice-close" class="btn btn-primary btn-sm">Fechar</a>
    <a href="/privacidade" class="btn btn-primary btn-sm">Mais info</a></div>
    <script>
        function createCookie(name,value,days) {
            var expires = "";
            if (days) {
                var date = new Date();
                date.setTime(date.getTime() + (days*24*60*60*1000));
                expires = "; expires=" + date.toUTCString();
            }
            document.cookie = name + "=" + value + expires + "; path=/";
        }
        function readCookie(name) {
            var nameEQ = name + "=";
            var ca = document.cookie.split(';');
            for(var i=0;i < ca.length;i++) {
                var c = ca[i];
                while (c.charAt(0)==' ') c = c.substring(1,c.length);
                if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
            }
            return null;
        }
        function eraseCookie(name) {
            createCookie(name,"",-1);
        }
    
        if(readCookie('cookie-notice-option')=='true') {
            
    
            
        } else if (readCookie('cookie-notice-option')!='false'){
            document.getElementById('cookie-notice').style.display = 'block';
        }
    
        document.getElementById('cookie-notice-close').addEventListener("click",function() {
            createCookie('cookie-notice-option','true',31);
            document.getElementById('cookie-notice').style.display = 'none';
            location.reload();
        });
    
    </script><meta property="og:title" content="Bash: how-to improve history manipulation" />
<meta property="og:description" content="By default, up and down keys allow you to navigate your bash history. Another option is the history built-in command and bash expansions (ex.: !2 runs the second command, oldest to newest, from your bash history).
There are also tools, like bash-it, that allow for better history manipulation, but this also adds a lot of other stuff, so it might make your .bashrc load slower. It will make your bash look good as hell too." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.brunomiguel.net/post/bash-better-history-manipulation/" /><meta property="og:image" content="https://blog.brunomiguel.net/papermod-cover.png"/><meta property="article:section" content="post" />
<meta property="article:published_time" content="2018-08-10T00:00:00&#43;00:00" />
<meta property="article:modified_time" content="2018-08-10T00:00:00&#43;00:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://blog.brunomiguel.net/papermod-cover.png"/>

<meta name="twitter:title" content="Bash: how-to improve history manipulation"/>
<meta name="twitter:description" content="By default, up and down keys allow you to navigate your bash history. Another option is the history built-in command and bash expansions (ex.: !2 runs the second command, oldest to newest, from your bash history).
There are also tools, like bash-it, that allow for better history manipulation, but this also adds a lot of other stuff, so it might make your .bashrc load slower. It will make your bash look good as hell too."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Posts",
      "item": "https://blog.brunomiguel.net/post/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "Bash: how-to improve history manipulation",
      "item": "https://blog.brunomiguel.net/post/bash-better-history-manipulation/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Bash: how-to improve history manipulation",
  "name": "Bash: how-to improve history manipulation",
  "description": "By default, up and down keys allow you to navigate your bash history. Another option is the history built-in command and bash expansions (ex.: !2 runs the second command, oldest to newest, from your bash history).\nThere are also tools, like bash-it, that allow for better history manipulation, but this also adds a lot of other stuff, so it might make your .bashrc load slower. It will make your bash look good as hell too.",
  "keywords": [
    "bashrc", "bash", "bash-it", "history", "tips", "tools"
  ],
  "articleBody": "By default, up and down keys allow you to navigate your bash history. Another option is the history built-in command and bash expansions (ex.: !2 runs the second command, oldest to newest, from your bash history).\nThere are also tools, like bash-it, that allow for better history manipulation, but this also adds a lot of other stuff, so it might make your .bashrc load slower. It will make your bash look good as hell too.\nAnother option for an awesome way to access your bash history is the following snippet, based on bash-it’s history plugin:\nif [ -t 1 ] then bind '\"\\e[A\": history-search-backward' bind '\"\\e[B\": history-search-forward' fi With this, you only need to write part of a command, press the up arrow and it will complete it with the commands in bash history file that match to what you’ve written.\nI’ve add it to the end of my .bashrc. Together with bash completion, it improves my workflow by a lot.\n",
  "wordCount" : "161",
  "inLanguage": "pt",
  "datePublished": "2018-08-10T00:00:00Z",
  "dateModified": "2018-08-10T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "Bruno Miguel"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://blog.brunomiguel.net/post/bash-better-history-manipulation/"
  },
  "publisher": {
    "@type": "Organization",
    "name": ".blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://blog.brunomiguel.net/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://blog.brunomiguel.net" accesskey="h" title=".blog (Alt + H)">.blog</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://blog.brunomiguel.net/search/" title="Pesquisa">
                    <span>Pesquisa</span>
                </a>
            </li>
            <li>
                <a href="https://blog.brunomiguel.net/arquivo" title="Arquivo">
                    <span>Arquivo</span>
                </a>
            </li>
            <li>
                <a href="https://blog.brunomiguel.net/categories/" title="Categorias">
                    <span>Categorias</span>
                </a>
            </li>
            <li>
                <a href="https://blog.brunomiguel.net/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://blog.brunomiguel.net/privacidade/" title="Privacidade">
                    <span>Privacidade</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      Bash: how-to improve history manipulation
    </h1>
    
    <div class="post-meta"><span title='2018-08-10 00:00:00 +0000 UTC'>agosto 10, 2018</span>&nbsp;·&nbsp;1 minuto&nbsp;·&nbsp;Bruno Miguel

</div>
  </header> 



  <div class="post-content"><p><img loading="lazy" src="https://i0.wp.com/blog.brunomiguel.net/wp-content/uploads/2018/08/bash.png?fit=1361%2C691" alt=""  />
</p>
<p>By default, <em>up</em> and <em>down</em> keys allow you to navigate your <em>bash</em> history. Another option is the <em>history</em> built-in command and <em>bash expansions</em> (ex.: <em>!2</em> runs the second command, oldest to newest, from your bash history).</p>
<p>There are also tools, like <em><a href="https://github.com/Bash-it/bash-it/">bash-it</a></em>, that allow for better history manipulation, but this also adds a lot of other stuff, so it might make your <em>.bashrc</em> load slower. It will make your <em>bash</em> look good as hell too.</p>
<p>Another option for an awesome way to access your <em>bash</em> history is the following snippet, based on <em>bash-it</em>&rsquo;s history plugin:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">if [ -t 1 ]
</span></span><span class="line"><span class="cl">then
</span></span><span class="line"><span class="cl">    bind &#39;&#34;\e[A&#34;: history-search-backward&#39;
</span></span><span class="line"><span class="cl">    bind &#39;&#34;\e[B&#34;: history-search-forward&#39;
</span></span><span class="line"><span class="cl">fi
</span></span></code></pre></div><p>With this, you only need to write part of a command, press the <em>up</em> arrow and it will complete it with the commands in bash history file that match to what you&rsquo;ve written.</p>
<p>I&rsquo;ve add it to the end of my <em>.bashrc</em>. Together with bash completion, it improves my workflow by a lot.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://blog.brunomiguel.net/tags/bashrc/">bashrc</a></li>
      <li><a href="https://blog.brunomiguel.net/tags/bash/">bash</a></li>
      <li><a href="https://blog.brunomiguel.net/tags/bash-it/">bash-it</a></li>
      <li><a href="https://blog.brunomiguel.net/tags/history/">history</a></li>
      <li><a href="https://blog.brunomiguel.net/tags/tips/">tips</a></li>
      <li><a href="https://blog.brunomiguel.net/tags/tools/">tools</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://blog.brunomiguel.net/post/canhoto-ou-destro-tudo-depende-da-espinha-dorsal/">
    <span class="title">« Página Anterior</span>
    <br>
    <span>Canhoto ou destro, tudo …</span>
  </a>
  <a class="next" href="https://blog.brunomiguel.net/post/criptex-an-encripted-email-service-with-focus-on-privacy/">
    <span class="title">Próxima Página »</span>
    <br>
    <span>Criptex, an encripted email …</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span><a href="https://creativecommons.org/licenses/by-sa/4.0/">CC-BY-SA-4.0</a> - 2022</span><br/>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a>, a customized
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod theme</a>, and an improved
        <a href="https://github.com/catppuccin/catppuccin" rel="noopener" target="_blank">Catppuccin color palette</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = 'copy';

        function copyingDone() {
            copybutton.innerText = 'copied!';
            setTimeout(() => {
                copybutton.innerText = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
